<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Problem 12</title>
	<link rel="stylesheet" href="res/style.css">
	<link rel="stylesheet" href="res/prism.css">
	<script src="res/prism.js"></script>
</head>
<body>
	<h1>Highly divisible triangular number</h1>
	<div id="wrap">
		<h2>Problem 12</h2>
		<div class="problem">
			<p>The sequence of triangle numbers is generated by adding the natural numbers. So the 7<sup>th</sup> triangle number would be 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:</p>
			<p class="textCenter" id="grid">1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...</p>
			<p>Let us list the factors of the first seven triangle numbers:</p>
			<p>
				<strong>&nbsp;&nbsp;1:</strong> 1<br>
				<strong>&nbsp;&nbsp;3:</strong> 1, 3<br>
				<strong>&nbsp;&nbsp;6:</strong> 1, 2, 3, 6<br>
				<strong>10:</strong> 1, 2, 5, 10<br>
				<strong>15:</strong> 1, 3, 5, 15<br>
				<strong>21:</strong> 1, 3, 7, 21<br>
				<strong>28:</strong> 1, 2, 4, 7, 14, 28<br>
			</p>
			<p>We can see that 28 is the first triangle number to have over five divisors.</p>
			<p>What is the value of the first triangle number to have over five hundred divisors?</p>
			<hr>
			<p>三角数序列是通过自然数累加得到的。因此第7个三角数就是1 + 2 + 3 + 4 + 5 + 6 + 7 = 28。前十个三角数分别是：</p>
			<p class="textCenter" id="grid">1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...</p>
			<p>现在让我们来列举一下前七个三角数的因数：</p>
			<p>
				<strong>&nbsp;&nbsp;1:</strong> 1<br>
				<strong>&nbsp;&nbsp;3:</strong> 1, 3<br>
				<strong>&nbsp;&nbsp;6:</strong> 1, 2, 3, 6<br>
				<strong>10:</strong> 1, 2, 5, 10<br>
				<strong>15:</strong> 1, 3, 5, 15<br>
				<strong>21:</strong> 1, 3, 7, 21<br>
				<strong>28:</strong> 1, 2, 4, 7, 14, 28<br>
			</p>
			<p>我们可以看到，28是第一个有五个因数的三角数。</p>
			<p>那么请问，第一个有多于500个因数的三角数是多少？</p>
		</div>
		<h2>Solution 1</h2>
		<pre><code class="language-javascript">
//第n个三角数就是1 + 2 + ... + n的和，因此第n个三角数就是 (1+n)*n/2
//以下这种算法非常的耗时

var count = 0;

cal: for(var n=1; ; n++){
	var sum = (1+n)*n/2;
	var div = 1;
	count = 0;
	while(div &lt;= sum){
		if(sum%div == 0){
			count++;
		}
		div++;
	}	
	if(count >= 500){
		console.log(sum);
		break cal;
	}
}		
		</code></pre>
		<h2>Solution 2</h2>
		<pre><code class="language-javascript">
//计算整除的话，可以一直计算到三角数的平方根为止。如果有一个小于平方根的数能够整除这个三角数，那么必定有一个大于平方根的数整除这个三角数；一小一大两个是对应的。所以，把小于平方根的整除的数量得到，然后乘以二就是所有的能够整除的数量。除非这个三角数正好是一个整数的平方，那么三角数所拥有的整除的数的数量，就是小于等于其平方根的整数的数量的二倍减一。

var t = 1; //t代表三角数
var a = 1;
var cnt = 0; //记录有多少数字能够被整除

while(cnt &lt;= 500){
	cnt = 0;
	a = a + 1;
	t = t + a;
	var ttx = Math.sqrt(t); //这里求出三角数的平方根
	for(var i=1; i&lt;=ttx; i++){
		if(t%i==0){
			cnt = cnt + 2; //小于平方根时得到一个整除的数，就相当于也得到一个大于平方根整除的数，所以每次加2
		}
	}
	if(t==ttx*ttx){ //如果三角数正好是一个整数的平方的话，用每次加2的方式，最终会多算一个，那么就在这里进行调整
		cnt--;
	}
}

console.log(t);		
		</code></pre>
	</div>
</body>
</html>